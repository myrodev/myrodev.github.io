(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/not-found.9082a057.jpg"},27:function(e,t,a){e.exports=a.p+"static/media/logo.94b4833f.svg"},28:function(e,t,a){e.exports=a(60)},33:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),i=(a(33),a(8)),u=a(3),o=Object(u.a)(),l=a(7),m=a(10),f=a.n(m),p=a(2),b=a.n(p),d=a(6),v=a(1),g=a(24),E=a.n(g).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"bf7a0d7e84fbc649f8d6f2819491a0d6"}}),h=r.a.createContext();h.displayName="ContextMovies";var j=function(e){var t=Object(n.useState)(!0),a=Object(v.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),u=Object(v.a)(i,2),o=u[0],l=u[1],m=Object(n.useState)(1),f=Object(v.a)(m,2),p=f[0],g=f[1],j=r.a.useState(""),O=Object(v.a)(j,2),_=O[0],x=O[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/discover/movie?sort_by=popularity.desc&page=".concat(p,"&api_key=").concat("bf7a0d7e84fbc649f8d6f2819491a0d6"));case 2:if(t=e.sent,console.log(t),!(200!==t.status||t.data.results.length<=0)){e.next=6;break}return e.abrupt("return");case 6:l(t.data.results),s(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p]);return r.a.createElement(h.Provider,{value:{loading:c,movies:o,page:p,current:_,nextPage:function(){return g(p+1)},prevPage:function(){return g(p-1)},getCurrent:function(e){x(e)}}},e.children)},O=function(e){var t=e.title,a=e.url,c=e.id,s=Object(n.useContext)(h).getCurrent;return r.a.createElement(l.a,{to:"/detail-movie/".concat(c)},r.a.createElement("section",{className:"wrapper__movies-item",onClick:function(){return s(c)}},r.a.createElement("img",{src:a?"https://image.tmdb.org/t/p/original/".concat(a):f.a,alt:t}),r.a.createElement("h2",null,t," "),r.a.createElement("i",{className:"far fa-heart"})))},_=Object(n.createContext)(),x=function(e){var t=e.children,a=Object(n.useState)(""),c=Object(v.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)([]),o=Object(v.a)(u,2),l=o[0],m=o[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=bf7a0d7e84fbc649f8d6f2819491a0d6&language=en-US&query=".concat(s,"&page=1&include_adult=false"));case 4:return t=e.sent,e.next=7,t.json();case 7:if(a=e.sent,console.log(t.status),200===t.status){e.next=11;break}return e.abrupt("return");case 11:m(a.results);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),r.a.createElement(_.Provider,{value:{getQuery:function(e){return i(e)},query:s,movies:l}},t)},y=Object(i.f)((function(e){var t=e.history,a=Object(n.useState)(""),c=Object(v.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)(!1),o=Object(v.a)(u,2),l=o[0],m=o[1],f=Object(n.useRef)(),p=Object(n.useRef)(),b=Object(n.useContext)(_).getQuery;Object(n.useEffect)((function(){return document.addEventListener("mousedown",d),function(){return document.removeEventListener("mousedow",d)}}),[]);var d=function(e){if(p.current){if(p.current.contains(e.target))return;m(!1)}};r.a.useEffect((function(){l&&f.current.focus()}),[l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"search",onSubmit:function(e){e.preventDefault(),s&&(b(s),t.push("/search/".concat(s)),i(""))},ref:p},r.a.createElement("button",{className:"btn search__button",onClick:function(){return m(!0)}},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("section",{className:"".concat(l?"search__input search__input--show":"search__input")},r.a.createElement("input",{type:"text",placeholder:"Search Movie...",value:s,ref:f,onChange:function(e){return i(e.target.value)}}))))})),k=function(e){var t=e.title,a=e.subtitle;return r.a.createElement("div",{className:"title"},a?r.a.createElement("h2",null,a):null,r.a.createElement("h1",null,t))},w=function(e){var t=e.title,a=e.subtitle;return r.a.createElement("header",{className:"header"},r.a.createElement(y,null),r.a.createElement(k,{title:t,subtitle:a}))},C=a(27),N=a.n(C),S=r.a.createContext(),P=function(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=bf7a0d7e84fbc649f8d6f2819491a0d6&language=en-US");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,s(a.genres);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(S.Provider,{value:{genres:c}},e.children)},U=Object(n.createContext)(),L=function(e){var t=Object(n.useState)(null),a=Object(v.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),u=Object(v.a)(i,2),o=u[0],l=u[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/discover/movie?api_key=bf7a0d7e84fbc649f8d6f2819491a0d6&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_genres=".concat(c),e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent){e.next=9;break}return e.abrupt("return");case 9:l(n.results);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),r.a.createElement(U.Provider,{value:{genresMovies:o,genre:c,getGenre:function(e){return s(e)}}},e.children)},M=function(){var e=Object(n.useContext)(S),t=Object(n.useContext)(U),a=e.genres,c=t.getGenre;return r.a.createElement("aside",{className:"sidebar"},r.a.createElement(l.a,{to:"/"},r.a.createElement("img",{src:N.a,alt:"logo"})),r.a.createElement("br",null),r.a.createElement("section",{className:"sidebar__genres"},r.a.createElement(l.a,{to:"/series"},r.a.createElement("small",{style:{margin:"1rem 0 1rem 2rem"}},r.a.createElement("i",{className:"fas fa-video"})," Series")),a.map((function(e){return r.a.createElement(l.a,{to:"/genres/".concat(e.name.toLowerCase()),key:e.id},r.a.createElement("div",{className:"sidebar__genres--item",onClick:function(){return c(e.id)}},r.a.createElement("small",null,r.a.createElement("i",{className:"fab fa-ioxhost"}),"  ",e.name)))}))))},q=function(e){var t=e.title,a=e.children,n=e.subtitle;return r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:"container"},r.a.createElement(w,{title:t,subtitle:n}),a),r.a.createElement(M,null))},D=function(){var e=r.a.useContext(h),t=e.prevPage,a=e.nextPage,n=e.page;return r.a.createElement("div",{className:"pagination"},n>1?r.a.createElement("button",{className:"btn pagination__button pagination__toLeft",onClick:t},r.a.createElement("i",{className:"fas fa-arrow-left"}),"\u2002Prev"):null,r.a.createElement("button",{className:"btn pagination__button pagination__toLeft",onClick:a},"Next\u2002",r.a.createElement("i",{className:"fas fa-arrow-right"})))},F=function(e){var t=e.movies,a=e.title,n=e.subtitle;return r.a.createElement(q,{title:a,subtitle:n},r.a.createElement("div",{className:"wrapper__movies"},t.map((function(e){return r.a.createElement(O,{key:e.id,id:e.id,title:e.title,url:e.poster_path})}))),r.a.createElement(D,null))},G=function(){var e=Object(n.useContext)(h).movies;return r.a.createElement(F,{movies:e,title:"Discover Movies"})},R=function(e){var t=Object(n.useContext)(h).current,a=r.a.useState([]),c=Object(v.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=bf7a0d7e84fbc649f8d6f2819491a0d6&language=en-US"));case 4:return a=e.sent,e.next=7,a.json();case 7:if(n=e.sent,200===a.status){e.next=10;break}return e.abrupt("return");case 10:i(n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),r.a.createElement(q,null,r.a.createElement("section",{className:"wrapper__movie"},r.a.createElement("img",{src:t?"https://image.tmdb.org/t/p/original/".concat(s.backdrop_path):"",alt:s.title}),r.a.createElement("article",null,r.a.createElement("h1",null,s.title),r.a.createElement("p",null,s.overview),r.a.createElement("button",null,"Trailer"))))},z=function(){return r.a.createElement(l.a,{to:"/"},r.a.createElement("img",{src:f.a,alt:"not-found"}))},A=function(){var e=Object(n.useContext)(_),t=e.movies,a=e.query;return r.a.createElement(F,{movies:t,title:"Search Movie",subtitle:a})},B=function(){var e=Object(n.useContext)(U),t=Object(n.useContext)(S),a=e.genresMovies,c=e.genre,s=t.genres.find((function(e){return e.id===c}));return r.a.createElement(F,{movies:a,title:"Genres",subtitle:c?s.name:""})},J=Object(n.createContext)(),Q=function(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/discover/tv?api_key=bf7a0d7e84fbc649f8d6f2819491a0d6&language=en-US&sort_by=popularity.desc&page=1&timezone=America%2FNew_York&include_null_first_air_dates=false",e.next=3,fetch("https://api.themoviedb.org/3/discover/tv?api_key=bf7a0d7e84fbc649f8d6f2819491a0d6&language=en-US&sort_by=popularity.desc&page=1&timezone=America%2FNew_York&include_null_first_air_dates=false");case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent){e.next=9;break}return e.abrupt("return");case 9:s(a.results);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(J.Provider,{value:{series:c}},e.children)},W=function(){var e=Object(n.useContext)(J).series;return console.log(e),r.a.createElement(F,{movies:e,title:"Discover",subtitle:"Series"})},Y=function(){return r.a.createElement(j,null,r.a.createElement(Q,null,r.a.createElement(P,null,r.a.createElement(L,null,r.a.createElement(x,null,r.a.createElement(i.b,{history:o},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:G}),r.a.createElement(i.a,{path:"/detail-movie/:id",component:R}),r.a.createElement(i.a,{path:"/search/:id",component:A}),r.a.createElement(i.a,{path:"/genres/:id",component:B}),r.a.createElement(i.a,{path:"/series",component:W}),r.a.createElement(i.a,{path:"/404",component:function(){return r.a.createElement(z,null)}}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.894e9ca4.chunk.js.map